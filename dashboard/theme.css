:root{
  --bg:#f8fafc;               /* main content background */
  --text:#0b0f19;             /* near-black text */
  --muted:#64748b;            /* slate-500 */
  --brand:#22c55e;            /* green accent */
  --brand-dark:#16a34a;       /* darker green */
  --card:#ffffff;             /* card background */
  --card-alt:#f1f5f9;         /* light slate */
  --border:#e5e7eb;           /* subtle border */
}

/* App & sidebar */
.stApp{background-color:var(--bg); color:var(--text)}
[data-testid="stSidebar"]{background-color:#1f2937; color:#f8fafc}
[data-testid="stSidebar"] *{color:#f8fafc}
/* Sidebar inputs: ensure high contrast text and dark backgrounds */
[data-testid="stSidebar"] input,
[data-testid="stSidebar"] textarea,
[data-testid="stSidebar"] select,
[data-testid="stSidebar"] .stDateInput input,
[data-testid="stSidebar"] .stTextInput input,
[data-testid="stSidebar"] .stNumberInput input,
[data-testid="stSidebar"] .stSelectbox div[role="combobox"] input,
[data-testid="stSidebar"] .stSelectbox div[role="combobox"] div{
  background:#111827 !important;
  color:#f8fafc !important;
  border:1px solid #334155 !important;
}
[data-testid="stSidebar"] label{color:#f8fafc !important; font-weight:600}
[data-testid="stSidebar"] .stSlider label{color:#f8fafc !important}
[data-testid="stSidebar"] .stSlider .st-c0{color:#f8fafc !important}

/* Datepicker (flatpickr) popup: dark header (white text), white day grid for max readability */
.flatpickr-calendar{background:#ffffff !important;border:1px solid #94a3b8 !important;box-shadow:0 8px 20px rgba(0,0,0,.25) !important;color:#0b0f19 !important;z-index:9999}
.flatpickr-months{background:#0f172a !important;border-bottom:1px solid #334155 !important}
.flatpickr-current-month{color:#ffffff !important;font-size:1.1rem !important;font-weight:800 !important}
.flatpickr-months .flatpickr-current-month{color:#ffffff !important}
.flatpickr-current-month .cur-month{color:#ffffff !important;font-weight:800 !important}
/* Extra-strong selectors for month+year to override theme */
.flatpickr-months .flatpickr-current-month span.cur-month{color:#ffffff !important}
.flatpickr-months .flatpickr-current-month input.cur-year{color:#ffffff !important;background:#111827 !important;border:1px solid #334155 !important}
.flatpickr-current-month .numInput.cur-year{color:#ffffff !important}
.flatpickr-months .flatpickr-monthDropdown-months{color:#ffffff !important;background:#111827 !important;border:1px solid #334155 !important}
.flatpickr-months .numInput.cur-year{color:#ffffff !important;background:#111827 !important;border:1px solid #334155 !important}
.flatpickr-current-month .flatpickr-monthDropdown-months{background:#111827 !important;color:#ffffff !important;border:1px solid #334155 !important}
.flatpickr-current-month .numInputWrapper input{background:#111827 !important;color:#ffffff !important;border:1px solid #334155 !important;font-weight:700 !important}
.flatpickr-weekdays{background:#0f172a !important}
.flatpickr-weekday{color:#ffffff !important;font-weight:800 !important;font-size:.95rem !important}
.flatpickr-weekdays .flatpickr-weekday{color:#ffffff !important}
/* In some builds weekdays are semi-transparent; force full opacity */
.flatpickr-weekday, .flatpickr-weekdays .flatpickr-weekday{opacity:1 !important}
/* Arrows */
.flatpickr-months .flatpickr-prev-month, .flatpickr-months .flatpickr-next-month{opacity:1 !important}
.flatpickr-months .flatpickr-prev-month svg, .flatpickr-months .flatpickr-next-month svg{fill:#ffffff !important}
.flatpickr-day{color:#0b0f19 !important;background:#ffffff !important;border-radius:8px !important}
.flatpickr-day:hover{background:#f1f5f9 !important}
.flatpickr-day.today{border:2px solid var(--brand) !important;color:#0b0f19 !important}
.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange{background:var(--brand);color:#0b0f19;border-color:var(--brand)}
.flatpickr-day.inRange{background:#dcfce7 !important;color:#0b0f19 !important}
.flatpickr-months .flatpickr-prev-month svg,
.flatpickr-months .flatpickr-next-month svg{fill:#ffffff !important}

/* Typography */
.main-header{font-size:2rem;font-weight:800;color:#111827;margin:.25rem 0 1rem}
.sub-header{font-size:1.1rem;font-weight:700;color:#111827;margin:1rem 0 .5rem}

/* Cards */
.card{background:var(--card);border:1px solid var(--border);border-radius:12px;padding:1rem}
.card-alt{background:var(--card-alt);border:1px solid var(--border);border-radius:12px;padding:1rem}
.kpi{display:flex;flex-direction:column;gap:.25rem}
.kpi .value{font-size:1.6rem;font-weight:800;color:#111827}
.kpi .label{font-size:.9rem;color:var(--muted)}
.badge{background:var(--brand);color:#fff;padding:2px 10px;border-radius:999px;font-size:.75rem}
/* Nav pills */
.pill{padding:.45rem .9rem;border:2px solid var(--border);border-radius:999px;color:#111827;background:#ffffff;font-weight:700;letter-spacing:.2px}
.pill:hover{background:#eef2f7}
.pill.active{background:var(--brand);border-color:var(--brand-dark);color:#ffffff;box-shadow:0 0 0 3px rgba(34,197,94,.25)}

/* Spacing helpers */
.section{margin-top:.75rem;margin-bottom:.75rem}
.divider{height:1px;background:var(--border);margin:.75rem 0}

/* Tables */
[data-testid="stDataFrame"] {background:var(--card)}

/* Metrics */
[data-testid="stMetricValue"]{color:#111827}
[data-testid="stMetricLabel"]{color:var(--muted)}

/* Strengthen selectbox label contrast in main content */
label[data-testid="stWidgetLabel"]{color:#111827; font-weight:700}
